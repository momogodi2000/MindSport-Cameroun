{% extends 'Dashboards/Layout/psychologist_base.html' %}
{% load static %}

{% block title %}My Athletes | Mental Health Platform{% endblock %}

{% block content %}
<div class="py-6 px-4 sm:px-6 lg:px-8 animate-fade-in">
  <!-- Page Header with Quick Actions -->
  <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-6">
    <div>
      <h1 class="text-2xl font-bold text-gray-900 dark:text-white">Athlete Management</h1>
      <p class="mt-1 text-sm text-gray-500 dark:text-gray-400">Monitor and support your athlete clients</p>
    </div>
    <div class="mt-4 md:mt-0 flex space-x-3">
      <button type="button" class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all duration-200">
        <svg class="-ml-1 mr-2 h-5 w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
          <path fill-rule="evenodd" d="M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z" clip-rule="evenodd" />
        </svg>
        New Assessment
      </button>
      <div class="relative">
        <input type="text" id="athlete-search" class="pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-700 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 block w-full dark:bg-gray-800 dark:text-white" placeholder="Search athletes...">
        <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
          <svg class="h-5 w-5 text-gray-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
            <path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" clip-rule="evenodd" />
          </svg>
        </div>
      </div>
      <button type="button" id="filter-button" class="inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-lg shadow-sm text-sm font-medium text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all duration-200">
        <svg class="-ml-1 mr-2 h-5 w-5 text-gray-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
          <path fill-rule="evenodd" d="M3 3a1 1 0 011-1h12a1 1 0 011 1v3a1 1 0 01-.293.707L12 11.414V15a1 1 0 01-.293.707l-2 2A1 1 0 018 17v-5.586L3.293 6.707A1 1 0 013 6V3z" clip-rule="evenodd" />
        </svg>
        Filter
      </button>
    </div>
  </div>

  <!-- Filter Panel with Advanced Options -->
  <div id="filter-panel" class="mb-6 bg-white dark:bg-gray-800 rounded-lg p-4 shadow-md transform transition-all duration-300 scale-y-0 h-0 origin-top opacity-0">
    <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
      <div>
        <label for="filter-sport" class="block text-sm font-medium text-gray-700 dark:text-gray-300">Sport</label>
        <select id="filter-sport" class="mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 dark:border-gray-700 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md dark:bg-gray-700 dark:text-white">
          <option value="">All Sports</option>
          <option value="boxing">Boxing</option>
          <option value="wrestling">Wrestling</option>
          <option value="judo">Judo</option>
          <option value="karate">Karate</option>
          <option value="taekwondo">Taekwondo</option>
          <option value="mma">Mixed Martial Arts</option>
        </select>
      </div>
      <div>
        <label for="filter-status" class="block text-sm font-medium text-gray-700 dark:text-gray-300">Status</label>
        <select id="filter-status" class="mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 dark:border-gray-700 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md dark:bg-gray-700 dark:text-white">
          <option value="">All Statuses</option>
          <option value="active">Active</option>
          <option value="inactive">Inactive</option>
          <option value="onhold">On Hold</option>
          <option value="highrisk">High Risk</option>
        </select>
      </div>
      <div>
        <label for="filter-level" class="block text-sm font-medium text-gray-700 dark:text-gray-300">Performance Level</label>
        <select id="filter-level" class="mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 dark:border-gray-700 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md dark:bg-gray-700 dark:text-white">
          <option value="">All Levels</option>
          <option value="amateur">Amateur</option>
          <option value="semi-pro">Semi-Professional</option>
          <option value="professional">Professional</option>
          <option value="elite">Elite</option>
          <option value="national">National Team</option>
        </select>
      </div>
      <div class="flex items-end space-x-2">
        <button type="button" id="reset-filters" class="w-1/2 inline-flex justify-center items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md shadow-sm text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all duration-200">
          Reset
        </button>
        <button type="button" id="apply-filters" class="w-1/2 inline-flex justify-center items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all duration-200">
          Apply
        </button>
      </div>
    </div>
    <div class="mt-4 pt-4 border-t border-gray-200 dark:border-gray-700">
      <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
        <div>
          <label for="filter-last-assessment" class="block text-sm font-medium text-gray-700 dark:text-gray-300">Last Assessment</label>
          <select id="filter-last-assessment" class="mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 dark:border-gray-700 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md dark:bg-gray-700 dark:text-white">
            <option value="">Any Time</option>
            <option value="week">Last Week</option>
            <option value="month">Last Month</option>
            <option value="quarter">Last 3 Months</option>
            <option value="overdue">Overdue</option>
          </select>
        </div>
        <div>
          <label for="filter-progress" class="block text-sm font-medium text-gray-700 dark:text-gray-300">Progress Range</label>
          <select id="filter-progress" class="mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 dark:border-gray-700 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md dark:bg-gray-700 dark:text-white">
            <option value="">All Progress</option>
            <option value="0-25">0-25%</option>
            <option value="25-50">25-50%</option>
            <option value="50-75">50-75%</option>
            <option value="75-100">75-100%</option>
            <option value="declining">Declining</option>
          </select>
        </div>
        <div>
          <label for="filter-next-session" class="block text-sm font-medium text-gray-700 dark:text-gray-300">Next Session</label>
          <select id="filter-next-session" class="mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 dark:border-gray-700 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md dark:bg-gray-700 dark:text-white">
            <option value="">Any Time</option>
            <option value="today">Today</option>
            <option value="week">This Week</option>
            <option value="month">This Month</option>
            <option value="unscheduled">Unscheduled</option>
          </select>
        </div>
      </div>
    </div>
  </div>

  <!-- Comprehensive Dashboard Stats -->
  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
    <!-- Total Athletes Card with Growth Indicator -->
    <div class="bg-gradient-to-br from-indigo-100 to-indigo-50 dark:from-indigo-900 dark:to-indigo-800 overflow-hidden shadow-lg rounded-lg transform hover:scale-[1.02] transition-transform duration-300 perspective-card">
      <div class="card-inner px-4 py-5 sm:p-6">
        <div class="flex items-center">
          <div class="flex-shrink-0 bg-indigo-500 rounded-md p-3 shadow-md">
            <svg class="h-6 w-6 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z" />
            </svg>
          </div>
          <div class="ml-5 w-0 flex-1">
            <dl>
              <dt class="text-sm font-medium text-indigo-800 dark:text-indigo-200 truncate">Total Athletes</dt>
              <dd class="flex items-baseline">
                <div class="text-2xl font-semibold text-indigo-900 dark:text-white">24</div>
                <div class="ml-2 flex items-baseline text-sm font-semibold text-green-600 dark:text-green-400">
                  <svg class="self-center flex-shrink-0 h-5 w-5 text-green-500 dark:text-green-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                    <path fill-rule="evenodd" d="M5.293 9.707a1 1 0 010-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 01-1.414 1.414L11 7.414V15a1 1 0 11-2 0V7.414L6.707 9.707a1 1 0 01-1.414 0z" clip-rule="evenodd" />
                  </svg>
                  <span class="sr-only">Increased by</span>
                  8.5%
                </div>
              </dd>
            </dl>
          </div>
        </div>
        <div class="mt-4">
          <div class="text-xs text-indigo-700 dark:text-indigo-300">New this month: 3 athletes</div>
        </div>
      </div>
    </div>

    <!-- Active Athletes Card with Session Info -->
    <div class="bg-gradient-to-br from-green-100 to-green-50 dark:from-green-900 dark:to-green-800 overflow-hidden shadow-lg rounded-lg transform hover:scale-[1.02] transition-transform duration-300 perspective-card">
      <div class="card-inner px-4 py-5 sm:p-6">
        <div class="flex items-center">
          <div class="flex-shrink-0 bg-green-500 rounded-md p-3 shadow-md">
            <svg class="h-6 w-6 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
          </div>
          <div class="ml-5 w-0 flex-1">
            <dl>
              <dt class="text-sm font-medium text-green-800 dark:text-green-200 truncate">Active Athletes</dt>
              <dd class="flex items-baseline">
                <div class="text-2xl font-semibold text-green-900 dark:text-white">18</div>
                <div class="ml-2 flex items-baseline text-sm font-semibold text-green-600 dark:text-green-400">
                  <svg class="self-center flex-shrink-0 h-5 w-5 text-green-500 dark:text-green-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                    <path fill-rule="evenodd" d="M5.293 9.707a1 1 0 010-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 01-1.414 1.414L11 7.414V15a1 1 0 11-2 0V7.414L6.707 9.707a1 1 0 01-1.414 0z" clip-rule="evenodd" />
                  </svg>
                  <span class="sr-only">Increased by</span>
                  12%
                </div>
              </dd>
            </dl>
          </div>
        </div>
        <div class="mt-4">
          <div class="text-xs text-green-700 dark:text-green-300">7 sessions scheduled this week</div>
        </div>
      </div>
    </div>

    <!-- Upcoming Sessions Card with Calendar Link -->
    <div class="bg-gradient-to-br from-blue-100 to-blue-50 dark:from-blue-900 dark:to-blue-800 overflow-hidden shadow-lg rounded-lg transform hover:scale-[1.02] transition-transform duration-300 perspective-card">
      <div class="card-inner px-4 py-5 sm:p-6">
        <div class="flex items-center">
          <div class="flex-shrink-0 bg-blue-500 rounded-md p-3 shadow-md">
            <svg class="h-6 w-6 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
            </svg>
          </div>
          <div class="ml-5 w-0 flex-1">
            <dl>
              <dt class="text-sm font-medium text-blue-800 dark:text-blue-200 truncate">Upcoming Sessions</dt>
              <dd class="flex items-baseline">
                <div class="text-2xl font-semibold text-blue-900 dark:text-white">7</div>
                <div class="ml-2 flex items-baseline text-sm font-semibold text-blue-600 dark:text-blue-400">
                  Today: 2
                </div>
              </dd>
            </dl>
          </div>
        </div>
        <div class="mt-4">
          <a href="#" class="text-xs text-blue-700 dark:text-blue-300 hover:underline">View calendar →</a>
        </div>
      </div>
    </div>

    <!-- Assessment Pending Card with Priority Indicators -->
    <div class="bg-gradient-to-br from-yellow-100 to-yellow-50 dark:from-yellow-900 dark:to-yellow-800 overflow-hidden shadow-lg rounded-lg transform hover:scale-[1.02] transition-transform duration-300 perspective-card">
      <div class="card-inner px-4 py-5 sm:p-6">
        <div class="flex items-center">
          <div class="flex-shrink-0 bg-yellow-500 rounded-md p-3 shadow-md">
            <svg class="h-6 w-6 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" />
            </svg>
          </div>
          <div class="ml-5 w-0 flex-1">
            <dl>
              <dt class="text-sm font-medium text-yellow-800 dark:text-yellow-200 truncate">Pending Assessments</dt>
              <dd class="flex items-baseline">
                <div class="text-2xl font-semibold text-yellow-900 dark:text-white">5</div>
                <div class="ml-2 flex items-baseline text-sm font-semibold text-red-600 dark:text-red-400">
                  <svg class="self-center flex-shrink-0 h-5 w-5 text-red-500 dark:text-red-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                    <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd" />
                  </svg>
                  <span class="sr-only">Priority</span>
                  2 urgent
                </div>
              </dd>
            </dl>
          </div>
        </div>
        <div class="mt-4">
          <a href="#" class="text-xs text-yellow-700 dark:text-yellow-300 hover:underline">Complete assessments →</a>
        </div>
      </div>
    </div>
  </div>

  <!-- Athletes List with Enhanced Features -->
  <div class="bg-white dark:bg-gray-800 shadow rounded-lg overflow-hidden" id="athletes-list">
    <div class="px-4 py-5 sm:px-6 flex justify-between items-center border-b border-gray-200 dark:border-gray-700">
      <h2 class="text-lg leading-6 font-medium text-gray-900 dark:text-white">Athlete Roster</h2>
      <div class="flex items-center space-x-4">
        <span class="inline-flex items-center px-3 py-0.5 rounded-full text-sm font-medium bg-indigo-100 text-indigo-800 dark:bg-indigo-800 dark:text-indigo-100">
          24 Total
        </span>
        <div class="relative">
          <button id="view-options" class="inline-flex justify-center items-center px-3 py-1.5 border border-gray-300 dark:border-gray-600 shadow-sm text-sm font-medium rounded-md text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
            <svg class="-ml-1 mr-2 h-5 w-5 text-gray-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
              <path d="M5 4a1 1 0 00-2 0v7.268a2 2 0 000 3.464V16a1 1 0 102 0v-1.268a2 2 0 000-3.464V4zM11 4a1 1 0 10-2 0v1.268a2 2 0 000 3.464V16a1 1 0 102 0V8.732a2 2 0 000-3.464V4zM16 3a1 1 0 011 1v7.268a2 2 0 010 3.464V16a1 1 0 11-2 0v-1.268a2 2 0 010-3.464V4a1 1 0 011-1z" />
            </svg>
            View Options
          </button>
          <div id="view-options-menu" class="hidden absolute right-0 mt-2 w-56 rounded-md shadow-lg bg-white dark:bg-gray-700 ring-1 ring-black ring-opacity-5 z-10">
            <div class="py-1" role="menu" aria-orientation="vertical">
              <button class="block px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-600 w-full text-left" role="menuitem">Compact View</button>
              <button class="block px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-600 w-full text-left" role="menuitem">Detailed View</button>
              <button class="block px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-600 w-full text-left" role="menuitem">Performance View</button>
              <div class="border-t border-gray-200 dark:border-gray-600"></div>
              <button class="block px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-600 w-full text-left" role="menuitem">Export Data</button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Athletes Table with Enhanced Features -->
    <div class="overflow-x-auto">
      <table class="min-w-full divide-y divide-gray-200 dark:divide-gray-700">
        <thead class="bg-gray-50 dark:bg-gray-700">
          <tr>
            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Athlete</th>
            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Sport & Level</th>
            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Status</th>
            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Last Session</th>
            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Next Session</th>
            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Progress</th>
            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Actions</th>
          </tr>
        </thead>
        <tbody class="bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700">
          <!-- Athlete 1 -->
          <tr class="hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-150">
            <td class="px-6 py-4 whitespace-nowrap">
              <div class="flex items-center">
                <div class="flex-shrink-0 h-10 w-10 transform transition-transform duration-300 hover:rotate-6">
                  <img class="h-10 w-10 rounded-full object-cover border-2 border-indigo-500" src="{% static 'img/athletes/athlete1.jpg' %}" alt="Athlete portrait">
                </div>
                <div class="ml-4">
                  <div class="text-sm font-medium text-indigo-600 dark:text-indigo-400">Kamsi Okonkwo</div>
                  <div class="text-sm text-gray-500 dark:text-gray-400">kamsi.okonkwo@example.com</div>
                </div>
              </div>
            </td>
            <td class="px-6 py-4 whitespace-nowrap">
              <div class="text-sm text-gray-900 dark:text-white">Boxing</div>
              <div class="text-sm text-gray-500 dark:text-gray-400">Professional</div>
            </td>
            <td class="px-6 py-4 whitespace-nowrap">
              <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800 dark:bg-green-800 dark:text-green-100">Active</span>
            </td>
            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400">
              <div class="flex items-center">
                <svg class="flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                  <path fill-rule="evenodd" d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z" clip-rule="evenodd" />
                </svg>
                2 days ago
              </div>
            </td>
            <td class="px-6 py-4 whitespace-nowrap">
              <div class="text-sm font-medium text-gray-900 dark:text-white">Today, 14:00</div>
              <div class="text-sm text-gray-500 dark:text-gray-400">Video Call</div>
            </td>
            <td class="px-6 py-4 whitespace-nowrap">
              <div class="flex items-center">
                <div class="w-full bg-gray-200 dark:bg-gray-600 rounded-full h-2.5 mr-2">
                  <div class="bg-green-600 h-2.5 rounded-full" style="width: 75%"></div>
                </div>
                <span class="text-xs font-medium text-gray-500 dark:text-gray-400">75%</span>
              </div>
            </td>
            <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
              <div class="flex space-x-2">
                <button class="text-indigo-600 dark:text-indigo-400 hover:text-indigo-900 dark:hover:text-indigo-300">
                  <svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                    <path d="M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z" />
                  </svg>
                </button>
                <button class="text-blue-600 dark:text-blue-400 hover:text-blue-900 dark:hover:text-blue-300">
                  <svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                    <path fill-rule="evenodd" d="M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z" clip-rule="evenodd" />
                  </svg>
                </button>
                <button class="text-green-600 dark:text-green-400 hover:text-green-900 dark:hover:text-green-300">
                  <svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                    <path fill-rule="evenodd" d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z" clip-rule="evenodd" />
                  </svg>
                </button>
              </div>
            </td>
          </tr>

          <!-- Athlete 2 -->
          <tr class="hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-150">
            <td class="px-6 py-4 whitespace-nowrap">
              <div class="flex items-center">
                <div class="flex-shrink-0 h-10 w-10 transform transition-transform duration-300 hover:rotate-6">
                  <img class="h-10 w-10 rounded-full object-cover border-2 border-indigo-500" src="{% static 'img/athletes/athlete2.jpg' %}" alt="Athlete portrait">
                </div>
                <div class="ml-4">
                  <div class="text-sm font-medium text-indigo-600 dark:text-indigo-400">Amina Diop</div>
                  <div class="text-sm text-gray-500 dark:text-gray-400">amina.diop@example.com</div>
                </div>
              </div>
            </td>
            <td class="px-6 py-4 whitespace-nowrap">
              <div class="text-sm text-gray-900 dark:text-white">Judo</div>
              <div class="text-sm text-gray-500 dark:text-gray-400">Elite</div>
            </td>
            <td class="px-6 py-4 whitespace-nowrap">
              <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800 dark:bg-green-800 dark:text-green-100">Active</span>
            </td>
            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400">
              <div class="flex items-center">
                <svg class="flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                  <path fill-rule="evenodd" d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z" clip-rule="evenodd" />
                </svg>
                1 week ago
              </div>
            </td>
            <td class="px-6 py-4 whitespace-nowrap">
              <div class="text-sm font-medium text-gray-900 dark:text-white">Tomorrow, 10:30</div>
              <div class="text-sm text-gray-500 dark:text-gray-400">In-person</div>
            </td>
            <td class="px-6 py-4 whitespace-nowrap">
              <div class="flex items-center">
                <div class="w-full bg-gray-200 dark:bg-gray-600 rounded-full h-2.5 mr-2">
                  <div class="bg-yellow-500 h-2.5 rounded-full" style="width: 45%"></div>
                </div>
                <span class="text-xs font-medium text-gray-500 dark:text-gray-400">45%</span>
              </div>
            </td>
            <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
              <div class="flex space-x-2">
                <button class="text-indigo-600 dark:text-indigo-400 hover:text-indigo-900 dark:hover:text-indigo-300">
                  <svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                    <path d="M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z" />
                  </svg>
                </button>
                <button class="text-blue-600 dark:text-blue-400 hover:text-blue-900 dark:hover:text-blue-300">
                  <svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                    <path fill-rule="evenodd" d="M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z" clip-rule="evenodd" />
                  </svg>
                </button>
                <button class="text-green-600 dark:text-green-400 hover:text-green-900 dark:hover:text-green-300">
                  <svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                    <path fill-rule="evenodd" d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z" clip-rule="evenodd" />
                  </svg>
                </button>
              </div>
            </td>
          </tr>

          <!-- Athlete 3 -->
          <tr class="hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-150">
            <td class="px-6 py-4 whitespace-nowrap">
              <div class="flex items-center">
                <div class="flex-shrink-0 h-10 w-10 transform transition-transform duration-300 hover:rotate-6">
                  <img class="h-10 w-10 rounded-full object-cover border-2 border-indigo-500" src="{% static 'img/athletes/athlete3.jpg' %}" alt="Athlete portrait">
                </div>
                <div class="ml-4">
                  <div class="text-sm font-medium text-indigo-600 dark:text-indigo-400">Emmanuel Fongoh</div>
                  <div class="text-sm text-gray-500 dark:text-gray-400">emmanuel.fongoh@example.com</div>
                </div>
              </div>
            </td>
            <td class="px-6 py-4 whitespace-nowrap">
              <div class="text-sm text-gray-900 dark:text-white">Wrestling</div>
              <div class="text-sm text-gray-500 dark:text-gray-400">Semi-Pro</div>
            </td>
            <td class="px-6 py-4 whitespace-nowrap">
              <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800 dark:bg-yellow-800 dark:text-yellow-100">On Hold</span>
            </td>
            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400">
              <div class="flex items-center">
                <svg class="flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                  <path fill-rule="evenodd" d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z" clip-rule="evenodd" />
                </svg>
                3 weeks ago
              </div>
            </td>
            <td class="px-6 py-4 whitespace-nowrap">
              <div class="text-sm text-gray-500 dark:text-gray-400">Not scheduled</div>
            </td>
            <td class="px-6 py-4 whitespace-nowrap">
              <div class="flex items-center">
                <div class="w-full bg-gray-200 dark:bg-gray-600 rounded-full h-2.5 mr-2">
                  <div class="bg-indigo-500 h-2.5 rounded-full" style="width: 60%"></div>
                </div>
                <span class="text-xs font-medium text-gray-500 dark:text-gray-400">60%</span>
              </div>
            </td>
            <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
              <div class="flex space-x-2">
                <button class="text-indigo-600 dark:text-indigo-400 hover:text-indigo-900 dark:hover:text-indigo-300">
                  <svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                    <path d="M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z" />
                  </svg>
                </button>
                <button class="text-blue-600 dark:text-blue-400 hover:text-blue-900 dark:hover:text-blue-300">
                  <svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                    <path fill-rule="evenodd" d="M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z" clip-rule="evenodd" />
                  </svg>
                </button>
                <button class="text-green-600 dark:text-green-400 hover:text-green-900 dark:hover:text-green-300">
                  <svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                    <path fill-rule="evenodd" d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z" clip-rule="evenodd" />
                  </svg>
                </button>
              </div>
            </td>
          </tr>

          <!-- Athlete 4 -->
          <tr class="hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-150">
            <td class="px-6 py-4 whitespace-nowrap">
              <div class="flex items-center">
                <div class="flex-shrink-0 h-10 w-10 transform transition-transform duration-300 hover:rotate-6">
                  <img class="h-10 w-10 rounded-full object-cover border-2 border-indigo-500" src="{% static 'img/athletes/athlete4.jpg' %}" alt="Athlete portrait">
                </div>
                <div class="ml-4">
                  <div class="text-sm font-medium text-indigo-600 dark:text-indigo-400">Fatoumata Diallo</div>
                  <div class="text-sm text-gray-500 dark:text-gray-400">fatoumata.diallo@example.com</div>
                </div>
              </div>
            </td>
            <td class="px-6 py-4 whitespace-nowrap">
              <div class="text-sm text-gray-900 dark:text-white">Karate</div>
              <div class="text-sm text-gray-500 dark:text-gray-400">Amateur</div>
            </td>
            <td class="px-6 py-4 whitespace-nowrap">
              <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800 dark:bg-red-800 dark:text-red-100">Inactive</span>
            </td>
            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400">
              <div class="text-gray-400 dark:text-gray-500">No recent sessions</div>
            </td>
            <td class="px-6 py-4 whitespace-nowrap">
              <div class="text-sm text-gray-500 dark:text-gray-400">Not scheduled</div>
            </td>
            <td class="px-6 py-4 whitespace-nowrap">
              <div class="flex items-center">
                <div class="w-full bg-gray-200 dark:bg-gray-600 rounded-full h-2.5 mr-2">
                  <div class="bg-red-500 h-2.5 rounded-full" style="width: 20%"></div>
                </div>
                <span class="text-xs font-medium text-gray-500 dark:text-gray-400">20%</span>
              </div>
            </td>
            <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
              <div class="flex space-x-2">
                <button class="text-indigo-600 dark:text-indigo-400 hover:text-indigo-900 dark:hover:text-indigo-300">
                  <svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                    <path d="M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z" />
                  </svg>
                </button>
                <button class="text-blue-600 dark:text-blue-400 hover:text-blue-900 dark:hover:text-blue-300">
                  <svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                    <path fill-rule="evenodd" d="M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z" clip-rule="evenodd" />
                  </svg>
                </button>
                <button class="text-green-600 dark:text-green-400 hover:text-green-900 dark:hover:text-green-300">
                  <svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                    <path fill-rule="evenodd" d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z" clip-rule="evenodd" />
                  </svg>
                </button>
              </div>
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- Pagination with Enhanced Navigation -->
    <div class="bg-white dark:bg-gray-800 px-4 py-3 flex items-center justify-between border-t border-gray-200 dark:border-gray-700 sm:px-6">
      <div class="flex-1 flex justify-between sm:hidden">
        <a href="#" class="relative inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600">
          Previous
        </a>
        <a href="#" class="ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600">
          Next
        </a>
      </div>
      <div class="hidden sm:flex-1 sm:flex sm:items-center sm:justify-between">
        <div>
          <p class="text-sm text-gray-700 dark:text-gray-300">
            Showing <span class="font-medium">1</span> to <span class="font-medium">4</span> of <span class="font-medium">24</span> athletes
          </p>
        </div>
        <div>
          <nav class="relative z-0 inline-flex rounded-md shadow-sm -space-x-px" aria-label="Pagination">
            <a href="#" class="relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-sm font-medium text-gray-500 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600">
              <span class="sr-only">Previous</span>
              <svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd" />
              </svg>
            </a>
            <a href="#" aria-current="page" class="z-10 bg-indigo-50 dark:bg-indigo-800 border-indigo-500 dark:border-indigo-600 text-indigo-600 dark:text-indigo-300 relative inline-flex items-center px-4 py-2 border text-sm font-medium">
              1
            </a>
            <a href="#" class="bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-500 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600 relative inline-flex items-center px-4 py-2 border text-sm font-medium">
              2
            </a>
            <a href="#" class="bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-500 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600 relative inline-flex items-center px-4 py-2 border text-sm font-medium">
              3
            </a>
            <span class="relative inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-sm font-medium text-gray-700 dark:text-gray-300">
              ...
            </span>
            <a href="#" class="bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-500 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600 relative inline-flex items-center px-4 py-2 border text-sm font-medium">
              6
            </a>
            <a href="#" class="relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-sm font-medium text-gray-500 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600">
              <span class="sr-only">Next</span>
              <svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd" />
              </svg>
            </a>
          </nav>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- JavaScript for Enhanced Interactivity -->
<script>
document.addEventListener('DOMContentLoaded', function() {
  // Toggle filter panel with animation
  const filterButton = document.getElementById('filter-button');
  const filterPanel = document.getElementById('filter-panel');
  
  filterButton.addEventListener('click', function() {
    filterPanel.classList.toggle('scale-y-0');
    filterPanel.classList.toggle('opacity-0');
    filterPanel.classList.toggle('h-0');
    filterPanel.classList.toggle('scale-y-100');
    filterPanel.classList.toggle('opacity-100');
    filterPanel.classList.toggle('h-auto');
    filterPanel.classList.toggle('py-4');
  });

  // Reset filters
  document.getElementById('reset-filters').addEventListener('click', function() {
    document.getElementById('filter-sport').value = '';
    document.getElementById('filter-status').value = '';
    document.getElementById('filter-level').value = '';
    document.getElementById('filter-last-assessment').value = '';
    document.getElementById('filter-progress').value = '';
    document.getElementById('filter-next-session').value = '';
  });

  // Apply filters with data fetching simulation
  document.getElementById('apply-filters').addEventListener('click', function() {
    const sport = document.getElementById('filter-sport').value;
    const status = document.getElementById('filter-status').value;
    const level = document.getElementById('filter-level').value;
    const lastAssessment = document.getElementById('filter-last-assessment').value;
    const progress = document.getElementById('filter-progress').value;
    const nextSession = document.getElementById('filter-next-session').value;

    // Simulate API call with timeout
    document.getElementById('athletes-list').classList.add('opacity-50');
    setTimeout(() => {
      document.getElementById('athletes-list').classList.remove('opacity-50');
      // Here you would typically update the list with filtered results
      console.log('Filters applied:', { sport, status, level, lastAssessment, progress, nextSession });
      
      // Close filter panel
      filterPanel.classList.add('scale-y-0', 'opacity-0', 'h-0');
      filterPanel.classList.remove('scale-y-100', 'opacity-100', 'h-auto', 'py-4');
    }, 800);
  });

  // Search functionality with debounce
  let searchTimeout;
  document.getElementById('athlete-search').addEventListener('input', function(e) {
    clearTimeout(searchTimeout);
    const searchTerm = e.target.value.toLowerCase();
    
    searchTimeout = setTimeout(() => {
      const athleteRows = document.querySelectorAll('#athletes-list tbody tr');
      
      athleteRows.forEach(row => {
        const athleteName = row.querySelector('.text-indigo-600').textContent.toLowerCase();
        const athleteEmail = row.querySelector('.text-gray-500').textContent.toLowerCase();
        
        if (athleteName.includes(searchTerm) || athleteEmail.includes(searchTerm)) {
          row.style.display = '';
        } else {
          row.style.display = 'none';
        }
      });
    }, 300);
  });

  // View options dropdown
  const viewOptionsButton = document.getElementById('view-options');
  const viewOptionsMenu = document.getElementById('view-options-menu');
  
  viewOptionsButton.addEventListener('click', function() {
    viewOptionsMenu.classList.toggle('hidden');
  });

  // Close view options when clicking outside
  document.addEventListener('click', function(event) {
    if (!viewOptionsButton.contains(event.target) && !viewOptionsMenu.contains(event.target)) {
      viewOptionsMenu.classList.add('hidden');
    }
  });

  // 3D card effect on hover
  const cards = document.querySelectorAll('.perspective-card');
  cards.forEach(card => {
    card.addEventListener('mouseenter', () => {
      card.querySelector('.card-inner').style.transform = 'rotateY(5deg) rotateX(5deg)';
    });
    card.addEventListener('mouseleave', () => {
      card.querySelector('.card-inner').style.transform = 'rotateY(0deg) rotateX(0deg)';
    });
  });

  // Rotate athlete avatars on hover
  const avatars = document.querySelectorAll('.flex-shrink-0.h-10.w-10');
  avatars.forEach(avatar => {
    avatar.addEventListener('mouseenter', () => {
      avatar.style.transform = 'rotate(6deg) scale(1.1)';
    });
    avatar.addEventListener('mouseleave', () => {
      avatar.style.transform = 'rotate(0deg) scale(1)';
    });
  });
});
</script>

<style>
/* Animation for page load */
@keyframes fadeIn {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}
.animate-fade-in {
  animation: fadeIn 0.5s ease-out forwards;
}

/* Card perspective effect */
.perspective-card {
  perspective: 1000px;
}
.card-inner {
  transition: transform 0.3s ease;
  transform-style: preserve-3d;
}

/* Smooth transitions for all interactive elements */
button, a, input, select {
  transition: all 0.2s ease;
}

/* Dark mode transitions */
.dark-mode-transition * {
  transition: background-color 0.3s ease, border-color 0.3s ease, color 0.3s ease;
}

/* Gradient backgrounds for cards */
.bg-gradient-to-br {
  background-image: linear-gradient(to bottom right, var(--tw-gradient-stops));
}
</style>
{% endblock %}
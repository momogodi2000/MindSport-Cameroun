{% extends 'Dashboards/Layout/coach_base.html' %}
{% load static %}

{% block title %}Coach Dashboard | Mental Health Platform{% endblock %}
{% block header_title %}Coach Dashboard{% endblock %}

{% block extra_css %}
<style>
    .stat-card {
        transition: all 0.3s ease;
    }
    .stat-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
    }
    .appointment-item {
        transition: all 0.2s ease;
    }
    .appointment-item:hover {
        background-color: #f0f9ff;
    }
    .progress-ring {
        transition: stroke-dashoffset 0.5s ease;
    }
</style>
{% endblock %}

{% block content %}
<div class="space-y-6">
    <!-- Welcome Section -->
    <div class="bg-gradient-to-r from-blue-500 to-blue-600 rounded-lg p-6 shadow-md text-white fade-in">
        <div class="flex flex-col md:flex-row items-start md:items-center justify-between">
            <div>
                <h1 class="text-2xl font-bold mb-2">Welcome back, {{ request.user.first_name }}!</h1>
                <p class="text-blue-100">Today is {% now "l, F j, Y" %}. You have 3 appointments scheduled.</p>
            </div>
            <div class="mt-4 md:mt-0">
                <a href="#" class="inline-flex items-center px-4 py-2 bg-white text-blue-600 rounded-md hover:bg-blue-50 transition duration-300 font-medium text-sm">
                    <i class="fas fa-calendar-alt mr-2"></i> View Schedule
                </a>
            </div>
        </div>
    </div>

    <!-- Stats Cards -->
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
        <div class="bg-white rounded-lg shadow p-6 stat-card">
            <div class="flex items-center">
                <div class="p-3 rounded-full bg-blue-100 text-blue-600">
                    <i class="fas fa-user-friends text-xl"></i>
                </div>
                <div class="ml-4">
                    <h2 class="text-sm font-medium text-gray-500">Total Athletes</h2>
                    <p class="text-2xl font-semibold text-gray-800">24</p>
                </div>
            </div>
            <div class="mt-4">
                <div class="flex items-center justify-between">
                    <p class="text-sm text-green-600 font-medium">
                        <i class="fas fa-arrow-up"></i> +3 this month
                    </p>
                    <a href="#" class="text-blue-500 text-sm hover:underline">View all</a>
                </div>
            </div>
        </div>

        <div class="bg-white rounded-lg shadow p-6 stat-card">
            <div class="flex items-center">
                <div class="p-3 rounded-full bg-green-100 text-green-600">
                    <i class="fas fa-calendar-check text-xl"></i>
                </div>
                <div class="ml-4">
                    <h2 class="text-sm font-medium text-gray-500">Completed Sessions</h2>
                    <p class="text-2xl font-semibold text-gray-800">78</p>
                </div>
            </div>
            <div class="mt-4">
                <div class="flex items-center justify-between">
                    <p class="text-sm text-green-600 font-medium">
                        <i class="fas fa-arrow-up"></i> +12 this month
                    </p>
                    <a href="#}" class="text-blue-500 text-sm hover:underline">View history</a>
                </div>
            </div>
        </div>

        <div class="bg-white rounded-lg shadow p-6 stat-card">
            <div class="flex items-center">
                <div class="p-3 rounded-full bg-yellow-100 text-yellow-600">
                    <i class="fas fa-star text-xl"></i>
                </div>
                <div class="ml-4">
                    <h2 class="text-sm font-medium text-gray-500">Average Rating</h2>
                    <p class="text-2xl font-semibold text-gray-800">4.8/5</p>
                </div>
            </div>
            <div class="mt-4">
                <div class="flex items-center text-sm">
                    <i class="fas fa-star text-yellow-500"></i>
                    <i class="fas fa-star text-yellow-500 ml-1"></i>
                    <i class="fas fa-star text-yellow-500 ml-1"></i>
                    <i class="fas fa-star text-yellow-500 ml-1"></i>
                    <i class="fas fa-star-half-alt text-yellow-500 ml-1"></i>
                    <span class="ml-2 text-gray-500">(42 reviews)</span>
                </div>
            </div>
        </div>

        <div class="bg-white rounded-lg shadow p-6 stat-card">
            <div class="flex items-center">
                <div class="p-3 rounded-full bg-purple-100 text-purple-600">
                    <i class="fas fa-file-alt text-xl"></i>
                </div>
                <div class="ml-4">
                    <h2 class="text-sm font-medium text-gray-500">Resources Created</h2>
                    <p class="text-2xl font-semibold text-gray-800">15</p>
                </div>
            </div>
            <div class="mt-4">
                <div class="flex items-center justify-between">
                    <p class="text-sm text-green-600 font-medium">
                        <i class="fas fa-arrow-up"></i> +2 this month
                    </p>
                    <a href="#" class="text-blue-500 text-sm hover:underline">Manage</a>
                </div>
            </div>
        </div>
    </div>

    <!-- Content Columns -->
    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
        <!-- Upcoming Appointments -->
        <div class="lg:col-span-2 bg-white rounded-lg shadow">
            <div class="border-b p-4 flex justify-between items-center">
                <h2 class="font-semibold text-lg text-gray-800">Today's Appointments</h2>
                <a href="#" class="text-blue-500 text-sm hover:underline">View all</a>
            </div>
            <div class="p-4">
                <div class="space-y-3">
                    <div class="appointment-item p-3 border-l-4 border-blue-500 rounded bg-blue-50 flex flex-col md:flex-row justify-between">
                        <div>
                            <div class="flex items-center">
                                <img src="{% static 'img/athlete1.jpg' %}" alt="Athlete" class="h-10 w-10 rounded-full object-cover border-2 border-blue-300">
                                <div class="ml-3">
                                    <p class="font-medium">Jean Paul Ngassa</p>
                                    <p class="text-xs text-gray-500">Boxing - Performance Anxiety</p>
                                </div>
                            </div>
                        </div>
                        <div class="mt-3 md:mt-0 flex items-center">
                            <div class="text-sm text-gray-600 mr-4">
                                <i class="fas fa-clock mr-1"></i> 09:30 - 10:30 AM
                            </div>
                            <div class="flex space-x-2">
                                <a href="#" class="p-2 bg-blue-100 text-blue-600 rounded hover:bg-blue-200 transition duration-200" title="Start Session">
                                    <i class="fas fa-video"></i>
                                </a>
                                <a href="#" class="p-2 bg-gray-100 text-gray-600 rounded hover:bg-gray-200 transition duration-200" title="View Details">
                                    <i class="fas fa-info-circle"></i>
                                </a>
                            </div>
                        </div>
                    </div>

                    <div class="appointment-item p-3 border-l-4 border-green-500 rounded bg-green-50 flex flex-col md:flex-row justify-between">
                        <div>
                            <div class="flex items-center">
                                <img src="{% static 'img/athlete2.jpg' %}" alt="Athlete" class="h-10 w-10 rounded-full object-cover border-2 border-green-300">
                                <div class="ml-3">
                                    <p class="font-medium">Marie Noelle Kenmogne</p>
                                    <p class="text-xs text-gray-500">Judo - Competition Preparation</p>
                                </div>
                            </div>
                        </div>
                        <div class="mt-3 md:mt-0 flex items-center">
                            <div class="text-sm text-gray-600 mr-4">
                                <i class="fas fa-clock mr-1"></i> 12:00 - 01:00 PM
                            </div>
                            <div class="flex space-x-2">
                                <a href="#" class="p-2 bg-blue-100 text-blue-600 rounded hover:bg-blue-200 transition duration-200" title="Start Session">
                                    <i class="fas fa-video"></i>
                                </a>
                                <a href="#" class="p-2 bg-gray-100 text-gray-600 rounded hover:bg-gray-200 transition duration-200" title="View Details">
                                    <i class="fas fa-info-circle"></i>
                                </a>
                            </div>
                        </div>
                    </div>

                    <div class="appointment-item p-3 border-l-4 border-purple-500 rounded bg-purple-50 flex flex-col md:flex-row justify-between">
                        <div>
                            <div class="flex items-center">
                                <img src="{% static 'img/athlete3.jpg' %}" alt="Athlete" class="h-10 w-10 rounded-full object-cover border-2 border-purple-300">
                                <div class="ml-3">
                                    <p class="font-medium">Ahmadou Ibrahim</p>
                                    <p class="text-xs text-gray-500">Wrestling - Recovery from Injury</p>
                                </div>
                            </div>
                        </div>
                        <div class="mt-3 md:mt-0 flex items-center">
                            <div class="text-sm text-gray-600 mr-4">
                                <i class="fas fa-clock mr-1"></i> 03:30 - 04:30 PM
                            </div>
                            <div class="flex space-x-2">
                                <a href="#" class="p-2 bg-blue-100 text-blue-600 rounded hover:bg-blue-200 transition duration-200" title="Start Session">
                                    <i class="fas fa-video"></i>
                                </a>
                                <a href="#" class="p-2 bg-gray-100 text-gray-600 rounded hover:bg-gray-200 transition duration-200" title="View Details">
                                    <i class="fas fa-info-circle"></i>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="mt-4 text-center py-3">
                    <button class="px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition duration-200">
                        <i class="fas fa-plus mr-2"></i> Schedule New Session
                    </button>
                </div>
            </div>
        </div>

        <!-- Performance Stats -->
        <div class="bg-white rounded-lg shadow">
            <div class="border-b p-4">
                <h2 class="font-semibold text-lg text-gray-800">Your Performance</h2>
            </div>
            <div class="p-4">
                <div class="space-y-4">
                    <div>
                        <div class="flex justify-between items-center mb-1">
                            <h3 class="text-sm font-medium text-gray-700">Session Completion Rate</h3>
                            <span class="text-sm font-semibold text-blue-600">95%</span>
                        </div>
                        <div class="w-full bg-gray-200 rounded-full h-2">
                            <div class="bg-blue-600 h-2 rounded-full" style="width: 95%"></div>
                        </div>
                    </div>
                    
                    <div>
                        <div class="flex justify-between items-center mb-1">
                            <h3 class="text-sm font-medium text-gray-700">Athlete Satisfaction</h3>
                            <span class="text-sm font-semibold text-green -600">92%</span>
                        </div>
                        <div class="w-full bg-gray-200 rounded-full h-2">
                        <div class="bg-green-500 h-2 rounded-full" style="width: 92%"></div>
                        </div>
                        </div>


        <div>
    <div class="flex justify-between items-center mb-1">
        <h3 class="text-sm font-medium text-gray-700">Follow-up Sessions</h3>
        <span class="text-sm font-semibold text-purple-600">78%</span>
    </div>
    <div class="w-full bg-gray-200 rounded-full h-2">
        <div class="bg-purple-500 h-2 rounded-full" style="width: 78%"></div>
    </div>
</div>

<div class="pt-4">
    <h3 class="text-sm font-medium text-gray-700 mb-2">Athlete Progress</h3>
    <div class="h-40">
        <canvas id="progressChart"></canvas>
    </div>
</div>
</div>
</div>
</div>
</div>

            <!-- Recent Activities -->
            <div class="bg-white rounded-lg shadow">
            <div class="border-b p-4 flex justify-between items-center">
            <h2 class="font-semibold text-lg text-gray-800">Recent Activities</h2>
            <a href="#" class="text-blue-500 text-sm hover:underline">View all</a>
            </div>
            <div class="p-4">
            <div class="space-y-4">
            <div class="flex items-start">
            <div class="flex-shrink-0 h-10 w-10 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center">
                <i class="fas fa-user-plus"></i>
            </div>
            <div class="ml-3">
                <p class="text-sm font-medium text-gray-800">New athlete registered: <span class="text-blue-600">Samuel Eto'o</span></p>
                <p class="text-xs text-gray-500 mt-1">Football - Confidence Building</p>
                <p class="text-xs text-gray-400 mt-1">2 hours ago</p>
            </div>
            </div>

            <div class="flex items-start">
            <div class="flex-shrink-0 h-10 w-10 rounded-full bg-green-100 text-green-600 flex items-center justify-center">
                <i class="fas fa-check-circle"></i>
            </div>
            <div class="ml-3">
                <p class="text-sm font-medium text-gray-800">Session completed with <span class="text-blue-600">Marie Noelle Kenmogne</span></p>
                <p class="text-xs text-gray-500 mt-1">Judo - Competition Preparation</p>
                <p class="text-xs text-gray-400 mt-1">Yesterday</p>
            </div>
            </div>

            <div class="flex items-start">
            <div class="flex-shrink-0 h-10 w-10 rounded-full bg-yellow-100 text-yellow-600 flex items-center justify-center">
                <i class="fas fa-exclamation-triangle"></i>
            </div>
            <div class="ml-3">
                <p class="text-sm font-medium text-gray-800">Assessment alert for <span class="text-blue-600">Jean Paul Ngassa</span></p>
                <p class="text-xs text-gray-500 mt-1">High stress levels detected</p>
                <p class="text-xs text-gray-400 mt-1">2 days ago</p>
            </div>
            </div>
            </div>
            </div>
            </div>

</div> {% endblock %}
{% block extra_js %}

<script> // Initialize charts document.addEventListener('DOMContentLoaded', function() { // Athlete Progress Chart const progressCtx = document.getElementById('progressChart').getContext('2d'); const progressChart = new Chart(progressCtx, { type: 'line', data: { labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'], datasets: [{ label: 'Average Progress', data: [65, 72, 78, 82, 85, 88], borderColor: '#3b82f6', backgroundColor: 'rgba(59, 130, 246, 0.05)', borderWidth: 2, tension: 0.3, fill: true }] }, options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { display: false } }, scales: { y: { beginAtZero: false, min: 50, max: 100, grid: { drawBorder: false } }, x: { grid: { display: false } } } } }); }); </script>
{% endblock %}